<!DOCTYPE html>
<html lang="en" data-content_root="../">
<head>
	<meta name="generator" content="pandoc" />
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">

	<meta name="description" content="PostgreSQL Presentation for UoA">

$for(author-meta)$
	<meta name="author" content="$author-meta$" />
$endfor$
$if(date-meta)$
	<meta name="date" content="$date-meta$" />
$endif$

	<title>$if(title-prefix)$$title-prefix$ - $endif$$pagetitle$</title>

	<link href="./css/bootstrap.min.css" rel="stylesheet">
	<link href="./css/custom.css" rel="stylesheet">

	<meta name="theme-color" content="#712cf9">

	<script>
		let inited = false;
		let baseFont = 0;
		let baseMarginTop = 0;
		let baseMarginBottom = 0;
		let basePaddingTop = 0;
		let basePaddingBottom = 0;

		function setContentWidth(value) {
			const container = document.getElementsByClassName("container");
			for (let i = 0; i < container.length; i++) {
				container[i].style.maxWidth = value;
					console.log(container[i].style.maxWidth);
				}
				setReferences("pw", value);
		}

		function setReference(id, name, val) {
			const ref = document.getElementById(id);
			if (ref !== "" && ref !== undefined && ref !== null) {
				let href = new URL(ref.href);
				let params =  new URLSearchParams(href.search);

				params.set(name, val);
				href.search = params.toString();
				ref.href = href.toString();
			}
		}

		function setReferences(name, val) {
			setReference("next_chapter", name, val);
			setReference("prev_chapter", name, val);
		}

		function initParams() {
			initFontSize();

			const params = new URLSearchParams(window.location.search);
			let pw = params.get("pw");
			if (pw !== null) {
				setContentWidth(pw);
			}
		}

		function getRootVariable(name) {
			return parseInt(getComputedStyle(document.documentElement).getPropertyValue(name).trim());
		}

		function setRootVariable(name, value) {
			document.documentElement.style.setProperty(name, value);
		}

		function updateSizingVariables(multiplier) {
			if (inited == false) {
				baseFont = getRootVariable('--base-font-size');
				baseMarginTop = getRootVariable('--base-margin-top');
				baseMarginBottom = getRootVariable('--base-margin-bottom');
				basePaddingTop = getRootVariable('--base-padding-top');
				basePaddingBottom = getRootVariable('--base-padding-bottom');
				inited = true;
			}
			setRootVariable('--base-font-size', (baseFont + multiplier) + 'px');
			setRootVariable('--base-margin-top', (baseMarginTop + multiplier * 1.3) + 'px');
			setRootVariable('--base-margin-bottom', (baseMarginBottom + multiplier * 1.3) + 'px');
			setRootVariable('--base-padding-top', (basePaddingTop + multiplier * 1.3) + 'px');
			setRootVariable('--base-padding-bottom', (basePaddingBottom + multiplier * 1.3) + 'px');
		}

		function initFontSize() {
			const params = new URLSearchParams(window.location.search);
			let fs = Number(params.get("fs")) || 0;
			let fontSizeSlider = document.getElementById("fontSizeSlider");

			fontSizeSlider.value = fs;
			updateSizingVariables(fs);
			setReferences("fs", fs);

			fontSizeSlider.addEventListener("input", function () {
				const val = parseInt(fontSizeSlider.value);

				updateSizingVariables(val);
				setReferences("fs", val);
			});
		}

		document.addEventListener("DOMContentLoaded", (event) => {
			initParams();
		});
	</script>
</head>
<body>
	<div class="container shadow-lg py-0 px-3 mb-5 rounded">
		<!-- Navbar -->
		<header class="sticky-top">
			<nav class="navbar navbar-expand-lg navbar-dark bg-primary">
				<div class="container-fluid">
					<a class="navbar-brand" href="./chapter1.html">UoA PostgreSQL</a>
					<button class="navbar-toggler" type="button" data-bs-toggle="collapse"
							data-bs-target="#navbarNavDropdown" aria-controls="navbarNavDropdown"
							aria-expanded="false" aria-label="Toggle navigation"
					>
						<span class="navbar-toggler-icon"></span>
					</button>

					<div class="collapse navbar-collapse" id="navbarNavDropdown">
						<ul class="navbar-nav">
							<li class="nav-item dropdown">
								<a class="nav-link dropdown-toggle" href="#" role="button"
									data-bs-toggle="dropdown" aria-expanded="false">
									Page Contents
								</a>
								<ul class="dropdown-menu">
									$for(custom_toc)$
									<li>
										<a class="dropdown-item" href="#$custom_toc.href$">$custom_toc.label$</a>
									</li>
									$endfor$
								</ul>
							</li>
						</ul>

						<ul class="navbar-nav">
							<li class="nav-item dropdown position-static">
								<a class="nav-link dropdown-toggle" href="#" role="button"
									data-bs-toggle="dropdown" aria-expanded="false">
									Adjust Font Size
								</a>
								<ul class="dropdown-menu w-100 mt-0">
									<li class="p-1 m-1">
										<input type="range" class="form-range" min="0" max="40" step="2" id="fontSizeSlider">
									</li>
								</ul>
							</li>
						</ul>

						<ul class="navbar-nav">
							<li class="nav-item dropdown">
								<a class="nav-link dropdown-toggle" href="#" role="button"
									data-bs-toggle="dropdown" aria-expanded="false">
									Page Width
								</a>
								<ul class="dropdown-menu">
									<li>
										<button class="dropdown-item" onclick="setContentWidth('960px')">Narrow</button>
									</li>
									<li>
										<button class="dropdown-item" onclick="setContentWidth('1200px')">Large</button>
									</li>
									<li>
										<button class="dropdown-item" onclick="setContentWidth('80%')">Extra large</button>
									</li>
								</ul>
							</li>
						</ul>

						<!-- Prev and next links -->
						<ul class="navbar-nav ms-auto">
							$if(prev_chapter)$
							<li class="nav-item">
								<a class="nav-link" id="prev_chapter" href="$prev_chapter.href$" title="Previous Chapter: $prev_chapter.title$">
									&larr; $prev_chapter.label$
								</a>
							</li>
							$endif$
							$if(next_chapter)$
							<li class="nav-item">
								<a class="nav-link" id="next_chapter" href="$next_chapter.href$" title="Next Chapter: $next_chapter.title$">
									$next_chapter.label$ &rarr;
								</a>
							</li>
							$endif$
						</ul>

					</div>
				</div>
			</nav>
		</header>

		<div id="content" class="content">
			<div class="container-fluid">
				<div class="row">
					<div class="body span12 content" role="main">
					<!-- Pandoc body -->
					$body$
					<!-- Endi of Pandoc body -->
					</div>
			</div>

			<footer class="d-flex flex-wrap justify-content-between align-items-center py-3 my-4 border-top">
				<p class="col-md-4 mb-0 text-body-secondary">Â© 2025 Georgios Kokolatos</p>
				<p class="col-md-4 mb-0 text-body-secondary">
					$if(date-meta)$
						Last updated on $date-meta$
					$endif$
				</p>
				<ul class="nav col-md-4 justify-content-end">
					<li class="nav-item">
						<a href="#" class="nav-link px-2 text-body-secondary">Back to top</a>
					</li>
				</ul>
			</footer>
		</div>
	</div>
	<script src="./js/bootstrap.bundle.min.js"></script>
</body>
</html>
